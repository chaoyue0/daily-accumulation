# 事件
## 事件流
定义：表示页面接收事件的顺序

- 事件冒泡
- 事件捕获

### 事件冒泡
定义：表示事件从最具体的元素(文档树最深的节点)开始触发，然后向上传播至没有那么具体的元素(document)

表现形式：从触发了click事件的元素开始，然后click事件沿DOM树一路向上，在经过的节点上依次触发click事件，直达document对象

    所有浏览器都支持事件冒泡，现代浏览器中的事件会一直冒泡到window对象

### 事件捕获
定义：表示最不具体的元素节点最先收到事件，而最具体的节点最后收到事件

表现形式：与事件冒泡刚好是相反的执行顺序

作用：为了事件到达最终目标前拦截事件

    旧版本的浏览器不支持事件捕获，实际开发中不会实现事件捕获，除非特殊情况

### DOM事件流
DOM2规定事件流分为3个阶段：事件捕获、到达目标和事件冒泡，在捕获阶段不会接收到事件，事件会在到达目标阶段触发

    所有现代浏览器都支持DOM事件流(IE8及更早版本不支持)，即在捕获阶段可以会触发事件

## 事件处理程序
事件意味着浏览器或者用户执行的某种动作，如click、load、mouseover，为响应事件而调用的函数成为事件处理程序，又称为事件监听器，通常以on开头，如onclick

### HTML 事件处理程序
事件处理程序，会创建一个函数，该函数有一个特殊的局部变量，保存着`event对象`，且在这个函数中，`this的值相当于事件的目标对象`

#### 作用域链
作用域链被拓展了，通过`with`实现，在该函数中可以访问到document和元素自身的成员(this)

#### 时机问题
场景：HTML元素已经显示在页面上了，用户已经完成交互了，而事件处理程序的代码还无法执行

解决方法：大多数HTML事件处理程序会封装在try / catch 块中

### DOM0 事件处理程序
要使用js指定事件处理程序，必须先取得要操作对象的引用，每个元素通常都有`小写的事件处理程序属性`，比如onclick，只要把这个属性赋值为一个函数即可

#### 作用域
事件处理程序的作用域即为元素的作用域，也就是`this元素`，通过this可以访问到元素的任何属性和方法

#### 移除事件
通过将事件处理程序属性的值设置为`null`，可以移除DOM方式添加的事件处理程序

### DOM2 事件处理程序
#### 赋值 addEventListener
参数：事件名(字符串)、事件处理函数和一个布尔值(事件流顺序)

布尔值：false(默认值)表示冒泡阶段调用事件处理程序

优势：可以为同一个事件添加`多个事件处理函数`(相比DOM0)

    通过addEventListener添加的事件只能使用removeEventListener并传入与添加时相同的参数来移除，因此匿名函数无法移除

### IE 事件处理程序
