# React

## 特点

- 单向数据流，State --> View --> New State --> New View
- 状态驱动视图
- view = fn(state)模型
- JSX+inline style，`渲染逻辑`和`标签`共同存在与`组件`中，HTML和CSS全部写进JavaScript中
  - 每个React组件都是一个JavaScript函数，它会返回一些标签，后将标签渲染到浏览器上

## 描述UI

### 组件
一段可以用标签进行扩展的JavaScript函数

#### 导出组件
export default

#### 定义函数
React组件是常规的js函数，但是组件的名称必须`以大写字母开头`，否则无法运行

#### 添加标签
使用JSX语法在js中嵌入使用标签

    如果标签和return不在同一行，需要把它包裹在一对括号中，否则return下一行的代码会被忽略

### 组件的导入和导出
导出：一个文件里有且仅有一个组件默认导出(export default)，有任意多个具名导出(export)

导入：对应默认导出直接import函数名，对应具名导出使用按需导入的方式(`{}`)

### JSX

#### 定义
是JavaScript的语法扩展，可以很好的描述UI交互的本质形式

#### React组件与HTML标签
React 的 JSX 使用大、小写的约定来区分本地组件的类和 HTML 标签

- 渲染 HTML 标签，只需在 JSX 里使用小写字母的标签名
- 渲染 React 组件，只需创建一个大写字母开头的本地变量

#### 规则
##### 只能返回一个根元素
如果一个组件包含多个元素，需要使用一个父标签把它们包裹起来，可以使用<div>标签或者`<> 和 </>`来代替

    这个空标签被称为Fragment，不会在HTML结构中添加额外节点

原理：JSX本质上在底层被转化为JavaScript对象，不能在一个函数中返回多个对象，除非用一个数组把它们包起来

##### 标签必须闭合

- 开始标签必须带有闭合标签
- 单标签必须写成自闭合标签

##### 使用驼峰命名法给大部分属性命名
JSX中的属性会变成JavaScript对象中的键值对，对对象的命名存在限制要求，如不能包含-或不能使用class保留字(class用className代替)

##### 动态绑定标签属性
使用`{}`代替`“”`来使用js变量

    对象也用大括号表示，即两对大括号，如style属性名需要符合驼峰命名法编写，且用双大括号包裹

### 将Props传递给组件
每个父组件可以提供props传递给子组件

#### 在父组件中传递
将属性直接写在子组件标签内，数值值用{}

#### 在子组件中读取
将属性直接写在函数的参数列表中，用{}包裹，也可以直接写props解构方式


#### prop默认值
在参数后面写=和默认值进行解构

#### 展开语法传递props
重视简洁，可以使用...props，将所有的props属性传递给子组件

#### props不可变

### 条件渲染

- if选择 if()
- 三目运算符 ? :
- 与运算符 &&

### 渲染列表

#### React中为什么需要key
即使元素的位置在渲染的过程中发生了变化，它提供的key值也能让React在整个生命周期中一直找到

    React会默认将数组项的索引当作key值使用，但是数组项的插入、删除或者重新排列会产生bug，同时也不要在运行过程中动态产生key，会导致所有的组件和DOM元素都要重新创建