# day.js时间库

## 基础知识
### 时间标准
#### GMT
定义：格林尼治平均时间，GMT的正午指的是当太阳横穿格林尼治子午线时的时间

缺点：地球每天的自传是不规律的，正在缓慢减速，因此GMT基于天文观测本身存在缺陷，已经被UTC所取代

#### UTC
定义：协调世界时间，作为最主要的世界时间标准，以原子时秒长为基础，在时刻上尽量接近GMT

特点：基于国际原子时，并在必要时通过不规律的加入闰秒来抵消地球自传变慢的影响

写法：如果本地时间比UTC时间快，如中国比UTC快8小时，写作UTC+8，称为东八区；如果本地时间比UTC时间慢，如夏威夷时间比UTC慢10小时，写作UTC-10，称为西十区

#### ISO
定义：国际标准化组织的日期和时间的表示方法，时区总是UTC加一个后缀”Z“标识

特点：在js中Date.prototype.toISOString()中，返回的是YYYY-MM-DDTHH:mm:ss.sssZ格式的字符串(ISO格式的UTC时间字符串)

## Dayjs类

### 初始化
#### parse
作用：解析日期对象的不同输入格式，并返回相应的js Date对象

注意点：

- d[2]表示提取的月份值，月份通常是从0-11表示的，所以提取的值需要减去1，以便得到正确的月份
- d[7]表示提取的毫秒值，通常只需要前三位(毫秒的精确度为三位)
- 根据utc参数的值，决定使用Date.UTC或new Date来创建js Date对象
 
#### init
调用对应的API接口给实例初始化年、月、日(getDate)、周(getDay)、时、分、秒、毫秒

### 查询
#### isSame
原理：通过使用`startOf`和`endOf`方法来逼近比较两个日期是否相等，可以考虑到不同的时间单位和精度

- 精度问题：常规的日期比较是基于毫秒级别的精度，可能会导致不准确的结果
- 多样性：不同的应用场景需要不同的比较精度，有时需要比较两个日期的年份是否相同
- 时区问题：确保日期在同一个时区下进行比较，不受时区的影响

##### startOf
定义：将日期对象调整为给定时间单位的开始部分，意味着日期的其他部分调整为最小可能值，这样只需要比较给定时间单位，可以忽略其他单位的差异

##### endOf
定义：将日期对象调整为给定时间单位的结束部分，意味着日期的其他部分调整为最大可能值，这样只需要比较给定时间单位，可以忽略其他单位的差异

##### instanceFactory 
定义：用于创建内部日期实例的工厂函数，基于输入日期、月份以及日期对象的utc属性

### 操作
#### add
定义：根据单位进行固定单位上数值的增加，有两个参数：number和units

原理：针对年、月的增加，直接调用实例上的set方法即可，针对日、周需要调用instanceFactorySet方法，其中week就是默认7天，
然后需要计算增加后的日期的`时间戳`，先获取当前日期对象的时间戳(毫秒为单位)，再将number与step(时间单位的毫秒数)相乘，得到`增加的总毫秒数`

    通过计算增加指定时间单位的数量后的新日期时间戳，并将其转换为dayjs的日期对象，可以避免日期溢出的问题，确保日期操作是准确的

#### subtract
定义：根据单位进行固定单位上数值的减少，有两个参数：number和units

原理：在add方法的基础上，将第一个number参数乘以-1即可

```
  subtract(number, string) {
    return this.add(number * -1, string)
  }
```

### 显示
#### format
